import matplotlib.pyplot as plt

expenses = []

def add_expense(amount, category, date):
    expense = {"amount": amount, "category": category, "date": date}
    expenses.append(expense)
    print(f"Added {category} expense of Rs.{amount} on {date}")

def view_expense():
    if not expenses:
        print("No expenses recorded yet.")
    else:
        print("\nYour expenses:")
        for i, exp in enumerate(expenses, start=1):
            print(f"{i}. {exp['date']} | {exp['category']} | Rs.{exp['amount']}")

def search_expense(keyword):
    results = [exp for exp in expenses if keyword.lower() in exp["category"].lower()]
    if results:
        print("\nSearch results:")
        for i, exp in enumerate(results, start=1):
            print(f"{i}. {exp['date']} | {exp['category']} | Rs.{exp['amount']}")
    else:
        print("No matching expenses found.")

def plot_expenses():
    if not expenses:
        print("No expenses to plot.")
        return
    
    categories = [exp["category"] for exp in expenses]
    amounts = [exp["amount"] for exp in expenses]

    plt.bar(categories, amounts)
    plt.title("Expenses by Category")
    plt.xlabel("Category")
    plt.ylabel("Amount (Rs.)")
    plt.show()

while True:
    print("\n=== Expense Tracker ===")
    print("1. Add Expense")
    print("2. View Expenses")
    print("3. Search Expenses")
    print("4. Plot Expenses")
    print("5. Exit")

    choice = input("Choose an option: ")

    if choice == "1":
        amount = int(input("Enter amount: "))
        category = input("Enter category: ")
        date = input("Enter date: ")
        add_expense(amount, category, date)

    elif choice == "2":
        view_expense()

    elif choice == "3":
        keyword = input("Enter category to search: ")
        search_expense(keyword)

    elif choice == "4":
        plot_expenses()

    elif choice == "5":
        print("Goodbye! ")
        break

    else:
        print("Invalid choice, try again.")





